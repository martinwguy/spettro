------------------------------------------------------------------------
Be able to position the green line, disp_offset,
and also move it with Alt-Left/Right arrow, Home, End?
------------------------------------------------------------------------
Be able to display audio from a live source, presumably with the green
line on the right edge.
------------------------------------------------------------------------
Improve result cache so that we precalculate ahead of right screen edge
and so that we can cancel scheduled calculations that are no longer in
the time period we cache.
-> Keep track of scheduled calculations (in a double linked list in time
order with associated calc structure.
------------------------------------------------------------------------
Make playing multiple audio files work
------------------------------------------------------------------------
Add note names as frequency axis on RHS
------------------------------------------------------------------------
Add optional time axis at top and/or bottom
------------------------------------------------------------------------
Add OCTAVES and PPOCT/PPSEMI to determine graphic height like -h
------------------------------------------------------------------------
Do subpixel positioning of bar lines / antialiasing.
------------------------------------------------------------------------
Do note lines and the 0 1 2 3 4 5 stuff to say how many beats per bar.
------------------------------------------------------------------------
Full-piece spectrogram in miniature along the bottom edge so that you can
seek to any position in a click and see which parts have been calculated?
------------------------------------------------------------------------
Add -m mute flag to be able to test emotion graphics.
This needs scrolling by regular timer, not by audio position.
------------------------------------------------------------------------
Try playing sound with SDL_Mixer (Ogg, MP3)
Mix_RewindMusic(); Mix_SetMusicPosition(double position)
(works with WAV and FLAC?)
Mix_FadeInMusicos(Mix_Music *music, 1, fade_ms, double position)
Mix_SetMusicCMD("mpg123")
------------------------------------------------------------------------
When adding score lines when there were none, just draw them on the display
instead of redisplaying the columns' spectral data.
When removing/changing such lines, repaint(all) is probably safest.
------------------------------------------------------------------------
Implement --smooth to synch scrolling to real time not playing-time.
Synch is good if I remember, with the reposition-ELF-on-resume tweak,
------------------------------------------------------------------------
Precalculate ahead in time to eliminate the flickering grey right hand
side.  The calc needs to be scheduled far enough ahead that the calc
threads have the time necessary to have it ready before that column
appears in the display area.
------------------------------------------------------------------------
Try scaling magnitudes with frequency to unweight its bottom-heaviness.
------------------------------------------------------------------------
Try ffmpeg for audio file decoding.
------------------------------------------------------------------------
Be able to change disp_height and disp_width while running, so that
GUI window resizing becomes possible.
------------------------------------------------------------------------
samplerate->sample_rate
af_format->af_format_t
------------------------------------------------------------------------
Check that this/next stuff in interpolate() centres frequencies on that
pixel rather than being slightly above/below it.
------------------------------------------------------------------------
disp_height should be the height of the display, not of the spectrogram,
which depends on {min,max}_y, so maybe reinstate maglen?
------------------------------------------------------------------------
Should speclen be > (sample_rate/2)/fft_freq instead of near to it?
------------------------------------------------------------------------
Rename speclen and maglen
------------------------------------------------------------------------
interpolate(): Does it really use mag[maglen]?
------------------------------------------------------------------------
Include vol+ and vol- and play/pause/stop keys
------------------------------------------------------------------------
Limit the frequency zoom to some maximum instead of just refusing to
turn the graphic upside down?
------------------------------------------------------------------------
